\newcounter{alg}[section]\setcounter{alg}{0}
\renewcommand{\thealg}{\arabic{section}.\arabic{alg}}
\newenvironment{alg}[2][]{%
\refstepcounter{alg}%
\ifstrempty{#1}%
{\mdfsetup{%
frametitle={%
\tikz[baseline=(current bounding box.east),outer sep=0pt]
\node[anchor=east,rectangle,fill=black!20]
{\strut Algoritme~\thealg};}}
}%
{\mdfsetup{%
frametitle={%
\tikz[baseline=(current bounding box.east),outer sep=0pt]
\node[anchor=east,rectangle,fill=black!20]
{\strut Algoritme~\thealg:~#1};}}%
}%
\mdfsetup{innertopmargin=10pt,linecolor=black!20,%
linewidth=2pt,topline=true,%
frametitleaboveskip=\dimexpr-\ht\strutbox\relax
}
\begin{mdframed}[]\relax%
\label{#2}}{\vspace{0.25cm}\end{mdframed}}